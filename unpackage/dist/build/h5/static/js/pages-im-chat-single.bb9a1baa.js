(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-im-chat-single"],{"0c31":function(n,t,i){"use strict";var e;i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return s})),i.d(t,"a",(function(){return e}));var a=function(){var n=this,t=n.$createElement,i=n._self._c||t;return i("v-uni-view",[!1===n.hasLogin?[i("v-uni-view",{staticClass:"uni-h3 uni-center uni-common-mt"},[i("v-uni-navigator",{attrs:{url:"../login/login"}},[n._v("请先登录")])],1)]:n._e(),!0===n.hasLogin?[i("v-uni-view",{staticClass:"uni-padding-wrap uni-common-mt"},[i("v-uni-view",{staticClass:"uni-title uni-common-pl"},[n._v("选择对话的用户/客服")]),i("v-uni-view",{staticClass:"uni-list"},[i("v-uni-view",{staticClass:"uni-list-cell"},[i("v-uni-view",{staticClass:"uni-list-cell-left"},[n._v("请选择")]),i("v-uni-view",{staticClass:"uni-list-cell-db"},[i("v-uni-picker",{attrs:{value:n.index,range:n.array,"range-key":"name"},on:{change:function(t){arguments[0]=t=n.$handleEvent(t),n.bindPickerChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"uni-input"},[n._v(n._s(n.array[n.index].name))])],1)],1)],1)],1),i("v-uni-view",{staticClass:"custom-input"},[i("v-uni-input",{attrs:{type:"text",placeholder:"请输入要对话的用户/客服"},model:{value:n.customUsername,callback:function(t){n.customUsername=t},expression:"customUsername"}})],1),i("v-uni-view",{staticClass:"uni-btn-v",on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.skipToSingleChat.apply(void 0,arguments)}}},[i("v-uni-button",{attrs:{type:"primary"}},[n._v("开始聊天")])],1),i("v-uni-view",{staticClass:"uni-btn-v",on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.getUserInfo.apply(void 0,arguments)}}},[i("v-uni-button",{attrs:{type:"primary"}},[n._v("获取用户资料")])],1)],1)]:n._e(),i("v-uni-view",{staticClass:"uni-padding-wrap"},n._l(n.artList,(function(t,e){return i("v-uni-view",{key:e,staticClass:"flex-item"},[i("v-uni-text",[n._v(n._s(t))])],1)})),1)],2)},s=[]},"2a6d":function(n,t,i){"use strict";i.r(t);var e=i("318a"),a=i.n(e);for(var s in e)"default"!==s&&function(n){i.d(t,n,(function(){return e[n]}))}(s);t["default"]=a.a},"318a":function(n,t,i){"use strict";(function(n){var e=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=e(i("5530")),s=i("2f62"),u={computed:(0,a.default)({},(0,s.mapState)(["hasLogin"])),data:function(){return{customUsername:"",array:[{name:"Yoyo01",username:"Yoyo01"},{name:"Yoyo02",username:"Yoyo02"},{name:"Yoyo03",username:"Yoyo03"},{name:"Yoyo04",username:"Yoyo04"},{name:"test8",username:"test8"},{name:"客服01",username:"kf01"},{name:"客服02",username:"kf02"}],index:0,artList:[]}},methods:{skipToSingleChat:function(n){var t=this;if(this.customUsername)uni.showModal({title:"提示",content:"如果填写了自定义用户名创建会话，则以自定用户名为主",showCancel:!1,cancelText:"确定",confirmText:"关闭",success:function(n){var i=t.customUsername;t.jpushIM.skipToSingleChat(i,(function(n){var t=n.data;uni.navigateTo({url:"im-chat?title="+t.title+"&fromUser="+i})}),(function(n){uni.showToast({title:"创建会话失败:"+n.errorMsg,icon:"none"})}))},fail:function(){},complete:function(){}});else{var i=this.array[this.index].username;this.jpushIM.skipToSingleChat(i,(function(n){var t=n.data;uni.navigateTo({url:"im-chat?title="+t.title+"&fromUser="+i})}),(function(n){uni.showToast({title:"创建会话失败:"+n.errorMsg,icon:"none"})}))}},bindPickerChange:function(t){n.log("picker发送选择改变，携带值为："+t.target.value),this.index=t.target.value},getUserInfo:function(n){var t=this,i=this.array[this.index].username;this.jpushIM.getUserInfo({username:i},(function(n){t.artList.push(JSON.stringify(n))}),(function(n){t.artList.push(JSON.stringify(n)),uni.showToast({title:n.errorMsg,icon:"none"})}))}}};t.default=u}).call(this,i("5a52")["default"])},4868:function(n,t,i){var e=i("24fb");t=e(!1),t.push([n.i,".uni-form-item .title[data-v-54700671]{padding:%?20?% 0}.custom-input[data-v-54700671]{border:1px solid #e0e0e0;background-color:#fff;box-sizing:border-box;margin-top:%?30?%;border-radius:%?5?%;padding:%?10?% %?20?%}",""]),n.exports=t},6370:function(n,t,i){var e=i("4868");"string"===typeof e&&(e=[[n.i,e,""]]),e.locals&&(n.exports=e.locals);var a=i("4f06").default;a("22574ef3",e,!0,{sourceMap:!1,shadowMode:!1})},f5f3:function(n,t,i){"use strict";i.r(t);var e=i("0c31"),a=i("2a6d");for(var s in a)"default"!==s&&function(n){i.d(t,n,(function(){return a[n]}))}(s);i("fe52");var u,o=i("f0c5"),r=Object(o["a"])(a["default"],e["b"],e["c"],!1,null,"54700671",null,!1,e["a"],u);t["default"]=r.exports},fe52:function(n,t,i){"use strict";var e=i("6370"),a=i.n(e);a.a}}]);