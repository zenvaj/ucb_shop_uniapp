(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-member-cxkAdd"],{"02aa":function(t,i,a){"use strict";a.r(i);var n=a("270b"),e=a.n(n);for(var s in n)"default"!==s&&function(t){a.d(i,t,(function(){return n[t]}))}(s);i["default"]=e.a},"1eb2":function(t,i,a){var n=a("24fb");i=n(!1),i.push([t.i,"uni-image[data-v-4c70bef6]{width:%?600?%;height:%?375?%}.uni-list[data-v-4c70bef6]{margin-top:%?10?%}.uni-list-cell-left[data-v-4c70bef6]{line-height:%?80?%}.main-list[data-v-4c70bef6]{margin-top:%?0?%;margin-bottom:%?0?%}",""]),t.exports=i},"25dd":function(t,i,a){"use strict";var n;a.d(i,"b",(function(){return e})),a.d(i,"c",(function(){return s})),a.d(i,"a",(function(){return n}));var e=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("v-uni-view",[a("v-uni-view",{staticClass:" uni-center"},[a("v-uni-view",[a("v-uni-image",{attrs:{src:""==t.setcardp?"../../static/img/smrz-08.png":t.setcardp},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.inter.apply(void 0,arguments)}}})],1),a("v-uni-view",{staticStyle:{width:"96%","text-align":"left",margin:"auto"}},[a("v-uni-view",{staticClass:"uni-list"},[a("v-uni-view",{staticClass:"uni-list-cell"},[a("v-uni-view",{staticClass:"uni-list-cell-left"},[t._v("姓名")]),a("v-uni-view",{staticClass:"uni-list-cell-db"},[a("v-uni-input",{attrs:{type:"text",placeholder:"请输入本人真实姓名",disabled:"true"},model:{value:t.card_name,callback:function(i){t.card_name=i},expression:"card_name"}})],1)],1)],1),a("v-uni-view",{staticClass:"uni-list"},[a("v-uni-view",{staticClass:"uni-list-cell"},[a("v-uni-view",{staticClass:"uni-list-cell-left"},[t._v("身份证")]),a("v-uni-view",{staticClass:"uni-list-cell-db"},[a("v-uni-input",{attrs:{placeholder:"请输入本人身份证号",disabled:"true"},model:{value:t.card_idno,callback:function(i){t.card_idno=i},expression:"card_idno"}})],1)],1)],1),a("v-uni-view",{staticClass:"uni-list"},[a("v-uni-view",{staticClass:"uni-list-cell"},[a("v-uni-view",{staticClass:"uni-list-cell-left"},[t._v("卡号")]),a("v-uni-view",{staticClass:"uni-list-cell-db"},[a("v-uni-input",{attrs:{type:"number",maxlength:"20",placeholder:"储蓄卡卡号"},model:{value:t.card_no,callback:function(i){t.card_no=i},expression:"card_no"}})],1)],1)],1),a("v-uni-view",{staticClass:"uni-list"},[a("v-uni-view",{staticClass:"uni-list-cell"},[a("v-uni-view",{staticClass:"uni-list-cell-left"},[t._v("确认卡号")]),a("v-uni-view",{staticClass:"uni-list-cell-db"},[a("v-uni-input",{attrs:{type:"number",maxlength:"20",placeholder:"储蓄卡卡号"},model:{value:t.card_qno,callback:function(i){t.card_qno=i},expression:"card_qno"}})],1)],1)],1),a("v-uni-view",{staticClass:"uni-list"},[a("v-uni-view",{staticClass:"uni-list-cell"},[a("v-uni-view",{staticClass:"uni-list-cell-left"},[t._v("发卡行")]),a("v-uni-view",{staticClass:"uni-list-cell-db"},[a("v-uni-picker",{attrs:{value:t.index,range:t.bank,"range-key":"bank_name"},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.bindPickerChange.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"uni-input"},[t._v(t._s(t.bank[t.index].bank_name))])],1)],1)],1)],1),a("v-uni-view",{staticClass:"uni-list"},[a("v-uni-view",{staticClass:"uni-list-cell"},[a("v-uni-view",{staticClass:"uni-list-cell-left"},[t._v("手机号")]),a("v-uni-view",{staticClass:"uni-list-cell-db"},[a("v-uni-input",{attrs:{type:"number",maxlength:"11",placeholder:"银行预留手机号"},model:{value:t.card_phone,callback:function(i){t.card_phone=i},expression:"card_phone"}})],1)],1)],1),a("v-uni-view",{staticClass:"uni-title uni-common-pl",staticStyle:{color:"#FF3333"}},[t._v("请确保输入的信息真实有效，信息错误将导致还款失败。注：如出现拍照闪退等异常请联系客服")]),a("v-uni-view",[a("v-uni-button",{attrs:{type:"primary"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.bd_bankcards.apply(void 0,arguments)}}},[t._v("确认绑卡")])],1)],1)],1)],1)},s=[]},"270b":function(t,i,a){"use strict";(function(t){a("ac1f"),a("5319"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n={data:function(){return{bank_card_type:"",tempFilePath:"",cropFilePath:"",card_name:"",card_idno:"",card_no:"",card_qno:"",card_phone:"",setcardp:"",index:0,bank:[{bank_name:""}]}},onLoad:function(){var i=this;this.$Request.postP("/bank/allow",{}).then((function(a){t.log(a),a.unshift({id:0,bank_name:"请选择银行",bank_code:"CAAA",icon:null,sort:1}),i.bank=a,t.log(i.bank)}));var a=this.$queue.getData("auth");t.log(a),1!=a&&uni.navigateTo({url:"/pages/authen/authen"}),this.card_idno=this.$queue.getData("idcard"),this.card_name=this.$queue.getData("realName")},methods:{inter:function(i){var a=this;t.log(i);var n=this,e=uni.requireNativePlugin("PP-BaiduOCR");e.CustomOrder({order:111},(function(t){a.card_no=t.data.result.bank_card_number.replace(/\s+/g,""),t.imgbase64&&n.bitmapsave(t.imgbase64,"setcardp")}))},bitmapsave:function(i,a){var n=this,s=new plus.nativeObj.Bitmap("test");this.$Request.postP("/files/uploadImgBase64",{image_base64:"data:image/png;base64,"+i}).then((function(i){t.log(i),(i.status=1e4)&&"setcardp"==a&&(n.setcardp=i.data.img_path)})),s.loadBase64Data(i,(function(i){s.save("_doc/_tmp/ocr"+(new Date).getTime()+".png",{},(function(i){t.log(i),n.logoSrcs=i.target}))}),(function(){t.log("加载Base64图片数据失败："+JSON.stringify(e))}))},bindPickerChange:function(i){t.log("picker发送选择改变，携带值为："+i.target.value),this.index=i.target.value},bd_bankcards:function(){var i=this;return 11!=this.card_phone.length?(uni.showToast({icon:"none",position:"bottom",title:"手机号不正确"}),!1):this.card_no!=this.card_qno?(uni.showToast({icon:"none",position:"bottom",title:"两次银行卡输入不同！"}),!1):0==this.index?(uni.showToast({icon:"none",position:"bottom",title:"请选择银行名称！"}),!1):void this.$Request.postP("/bank/add",{type:"cxk",bankname:this.bank[this.index].bank_name,banknumber:this.card_qno,mobile:this.card_phone,idcard:this.card_idno,username:this.card_name,cvv2_or_:"",exp_or_:"",bankpic:this.setcardp}).then((function(a){t.log(a),1e4==a.status?uni.navigateBack():uni.showModal({title:a.msg}),i.options=a.data,t.log(i.options)}))}}};i.default=n}).call(this,a("5a52")["default"])},"323d":function(t,i,a){"use strict";a.r(i);var n=a("25dd"),e=a("02aa");for(var s in e)"default"!==s&&function(t){a.d(i,t,(function(){return e[t]}))}(s);a("dee0");var l,c=a("f0c5"),u=Object(c["a"])(e["default"],n["b"],n["c"],!1,null,"4c70bef6",null,!1,n["a"],l);i["default"]=u.exports},"4aa2":function(t,i,a){var n=a("1eb2");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var e=a("4f06").default;e("9ef627da",n,!0,{sourceMap:!1,shadowMode:!1})},dee0:function(t,i,a){"use strict";var n=a("4aa2"),e=a.n(n);e.a}}]);